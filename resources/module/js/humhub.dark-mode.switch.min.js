humhub.module("dark-mode.switch",(function(t,n,e){let a,i,o;t.initOnPjaxLoad=!0,t.initOnAjaxLoad=!0;function d(){r(e('input[name="UserSetting[darkMode]"]:checked').val())}function c(){r(o)}function r(t){"light"==t?h():"dark"==t?m():u()}function u(){window.matchMedia("(prefers-color-scheme: dark)").matches?(m(),s()):(h(),s())}function h(){e("html").attr("data-bs-theme","light")}function m(){e("html").attr("data-bs-theme","dark")}function s(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{u()}))}t.export({init:function(){e((function(){a=e("#usersetting-darkmode"),i=e("button[data-modal-close]"),o=e('input[name="UserSetting[darkMode]"]:checked').val(),a.on("input",d),i.on("click",c)}))}})}));